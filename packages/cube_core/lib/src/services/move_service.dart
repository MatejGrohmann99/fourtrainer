import '../domain/index.dart';

class MoveService {
  static final _instance = MoveService._internal();

  factory MoveService() => _instance;
  MoveService._internal();

  CSE executeAlgorithm(CSE cs, List<CM> alg) {
    var o = cs.state.clone();
    var n = cs.state.clone();

    void mf(int f, int a) {
      switch (a) {
        case 0:
          n[f][0][0] = o[f][2][0];
          n[f][0][1] = o[f][1][0];
          n[f][0][2] = o[f][0][0];
          n[f][1][0] = o[f][2][1];
          n[f][1][1] = o[f][1][1];
          n[f][1][2] = o[f][0][1];
          n[f][2][0] = o[f][2][2];
          n[f][2][1] = o[f][1][2];
          n[f][2][2] = o[f][0][2];
        case 1:
          n[f][0][0] = o[f][0][2];
          n[f][0][1] = o[f][1][2];
          n[f][0][2] = o[f][2][2];
          n[f][1][0] = o[f][0][1];
          n[f][1][1] = o[f][1][1];
          n[f][1][2] = o[f][2][1];
          n[f][2][0] = o[f][0][0];
          n[f][2][1] = o[f][1][0];
          n[f][2][2] = o[f][2][0];
        case 2:
          n[f][0][0] = o[f][2][2];
          n[f][0][1] = o[f][2][1];
          n[f][0][2] = o[f][2][0];
          n[f][1][0] = o[f][1][2];
          n[f][1][1] = o[f][1][1];
          n[f][1][2] = o[f][1][0];
          n[f][2][0] = o[f][0][2];
          n[f][2][1] = o[f][0][1];
          n[f][2][2] = o[f][0][0];
      }
    }

    for (final move in alg) {
      try {
        switch (move) {
          case CM.U:
            n[1][0][0] = o[2][0][0];
            n[1][0][1] = o[2][0][1];
            n[1][0][2] = o[2][0][2];
            n[2][0][0] = o[3][0][0];
            n[2][0][1] = o[3][0][1];
            n[2][0][2] = o[3][0][2];
            n[3][0][0] = o[4][0][0];
            n[3][0][1] = o[4][0][1];
            n[3][0][2] = o[4][0][2];
            n[4][0][0] = o[1][0][0];
            n[4][0][1] = o[1][0][1];
            n[4][0][2] = o[1][0][2];
            mf(0, 0);
          case CM.U2:
            n[1][0][0] = o[3][0][0];
            n[1][0][1] = o[3][0][1];
            n[1][0][2] = o[3][0][2];
            n[2][0][0] = o[4][0][0];
            n[2][0][1] = o[4][0][1];
            n[2][0][2] = o[4][0][2];
            n[3][0][0] = o[1][0][0];
            n[3][0][1] = o[1][0][1];
            n[3][0][2] = o[1][0][2];
            n[4][0][0] = o[2][0][0];
            n[4][0][1] = o[2][0][1];
            n[4][0][2] = o[2][0][2];
            mf(0, 2);
          case CM.Ui:
            n[1][0][0] = o[4][0][0];
            n[1][0][1] = o[4][0][1];
            n[1][0][2] = o[4][0][2];
            n[2][0][0] = o[1][0][0];
            n[2][0][1] = o[1][0][1];
            n[2][0][2] = o[1][0][2];
            n[3][0][0] = o[2][0][0];
            n[3][0][1] = o[2][0][1];
            n[3][0][2] = o[2][0][2];
            n[4][0][0] = o[3][0][0];
            n[4][0][1] = o[3][0][1];
            n[4][0][2] = o[3][0][2];
            mf(0, 1);
          case CM.R:
            n[0][0][2] = o[1][0][2];
            n[0][1][2] = o[1][1][2];
            n[0][2][2] = o[1][2][2];
            n[1][0][2] = o[5][0][2];
            n[1][1][2] = o[5][1][2];
            n[1][2][2] = o[5][2][2];
            n[5][0][2] = o[3][2][0];
            n[5][1][2] = o[3][1][0];
            n[5][2][2] = o[3][0][0];
            n[3][2][0] = o[0][0][2];
            n[3][1][0] = o[0][1][2];
            n[3][0][0] = o[0][2][2];
            mf(2, 0);
          case CM.R2:
            n[0][0][2] = o[5][0][2];
            n[0][1][2] = o[5][1][2];
            n[0][2][2] = o[5][2][2];
            n[1][0][2] = o[3][2][0];
            n[1][1][2] = o[3][1][0];
            n[1][2][2] = o[3][0][0];
            n[5][0][2] = o[0][0][2];
            n[5][1][2] = o[0][1][2];
            n[5][2][2] = o[0][2][2];
            n[3][2][0] = o[1][0][2];
            n[3][1][0] = o[1][1][2];
            n[3][0][0] = o[1][2][2];
            mf(2, 2);
          case CM.Ri:
            n[0][0][2] = o[3][2][0];
            n[0][1][2] = o[3][1][0];
            n[0][2][2] = o[3][0][0];
            n[1][0][2] = o[0][0][2];
            n[1][1][2] = o[0][1][2];
            n[1][2][2] = o[0][2][2];
            n[5][0][2] = o[1][0][2];
            n[5][1][2] = o[1][1][2];
            n[5][2][2] = o[1][2][2];
            n[3][2][0] = o[5][0][2];
            n[3][1][0] = o[5][1][2];
            n[3][0][0] = o[5][2][2];
            mf(2, 1);
          case CM.D:
            n[1][2][0] = o[4][2][0];
            n[1][2][1] = o[4][2][1];
            n[1][2][2] = o[4][2][2];
            n[2][2][0] = o[1][2][0];
            n[2][2][1] = o[1][2][1];
            n[2][2][2] = o[1][2][2];
            n[3][2][0] = o[2][2][0];
            n[3][2][1] = o[2][2][1];
            n[3][2][2] = o[2][2][2];
            n[4][2][0] = o[3][2][0];
            n[4][2][1] = o[3][2][1];
            n[4][2][2] = o[3][2][2];
            mf(5, 0);
          case CM.D2:
            n[1][2][0] = o[3][2][0];
            n[1][2][1] = o[3][2][1];
            n[1][2][2] = o[3][2][2];
            n[2][2][0] = o[4][2][0];
            n[2][2][1] = o[4][2][1];
            n[2][2][2] = o[4][2][2];
            n[3][2][0] = o[1][2][0];
            n[3][2][1] = o[1][2][1];
            n[3][2][2] = o[1][2][2];
            n[4][2][0] = o[2][2][0];
            n[4][2][1] = o[2][2][1];
            n[4][2][2] = o[2][2][2];
            mf(5, 2);
          case CM.Di:
            n[1][2][0] = o[2][2][0];
            n[1][2][1] = o[2][2][1];
            n[1][2][2] = o[2][2][2];
            n[2][2][0] = o[3][2][0];
            n[2][2][1] = o[3][2][1];
            n[2][2][2] = o[3][2][2];
            n[3][2][0] = o[4][2][0];
            n[3][2][1] = o[4][2][1];
            n[3][2][2] = o[4][2][2];
            n[4][2][0] = o[1][2][0];
            n[4][2][1] = o[1][2][1];
            n[4][2][2] = o[1][2][2];
            mf(5, 1);
          case CM.F:
            n[0][2][0] = o[4][2][2];
            n[0][2][1] = o[4][1][2];
            n[0][2][2] = o[4][0][2];
            n[4][0][2] = o[5][0][0];
            n[4][1][2] = o[5][0][1];
            n[4][2][2] = o[5][0][2];
            n[5][0][0] = o[2][2][0];
            n[5][0][1] = o[2][1][0];
            n[5][0][2] = o[2][0][0];
            n[2][0][0] = o[0][2][0];
            n[2][1][0] = o[0][2][1];
            n[2][2][0] = o[0][2][2];
            mf(1, 0);
          case CM.F2:
            n[0][2][0] = o[5][0][2];
            n[0][2][1] = o[5][0][1];
            n[0][2][2] = o[5][0][0];
            n[4][0][2] = o[2][2][0];
            n[4][1][2] = o[2][1][0];
            n[4][2][2] = o[2][0][0];
            n[5][0][0] = o[0][2][2];
            n[5][0][1] = o[0][2][1];
            n[5][0][2] = o[0][2][0];
            n[2][0][0] = o[4][2][2];
            n[2][1][0] = o[4][1][2];
            n[2][2][0] = o[4][0][2];
            mf(1, 2);
          case CM.Fi:
            n[0][2][0] = o[2][0][0];
            n[0][2][1] = o[2][1][0];
            n[0][2][2] = o[2][2][0];
            n[4][0][2] = o[0][2][2];
            n[4][1][2] = o[0][2][1];
            n[4][2][2] = o[0][2][0];
            n[5][0][0] = o[4][0][2];
            n[5][0][1] = o[4][1][2];
            n[5][0][2] = o[4][2][2];
            n[2][0][0] = o[5][0][2];
            n[2][1][0] = o[5][0][1];
            n[2][2][0] = o[5][0][0];
            mf(1, 1);
          case CM.Fw:
            n[0][1][0] = o[4][2][1];
            n[0][1][1] = o[4][1][1];
            n[0][1][2] = o[4][0][1];
            n[0][2][0] = o[4][2][2];
            n[0][2][1] = o[4][1][2];
            n[0][2][2] = o[4][0][2];
            n[4][0][1] = o[5][1][0];
            n[4][0][2] = o[5][0][0];
            n[4][1][1] = o[5][1][1];
            n[4][1][2] = o[5][0][1];
            n[4][2][1] = o[5][1][2];
            n[4][2][2] = o[5][0][2];
            n[5][0][0] = o[2][2][0];
            n[5][0][1] = o[2][1][0];
            n[5][0][2] = o[2][0][0];
            n[5][1][0] = o[2][2][1];
            n[5][1][1] = o[2][1][1];
            n[5][1][2] = o[2][0][1];
            n[2][0][0] = o[0][2][0];
            n[2][0][1] = o[0][1][0];
            n[2][1][0] = o[0][2][1];
            n[2][1][1] = o[0][1][1];
            n[2][2][0] = o[0][2][2];
            n[2][2][1] = o[0][1][2];

            mf(1, 0);
          case CM.Fw2:
            n[0][1][0] = o[5][1][2];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][0];
            n[0][2][0] = o[5][0][2];
            n[0][2][1] = o[5][0][1];
            n[0][2][2] = o[5][0][0];
            n[4][0][1] = o[2][2][1];
            n[4][0][2] = o[2][2][0];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][0];
            n[4][2][1] = o[2][0][1];
            n[4][2][2] = o[2][0][0];
            n[5][0][0] = o[0][2][2];
            n[5][0][1] = o[0][2][1];
            n[5][0][2] = o[0][2][0];
            n[5][1][0] = o[0][1][2];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][0];
            n[2][0][0] = o[4][2][2];
            n[2][0][1] = o[4][2][1];
            n[2][1][0] = o[4][1][2];
            n[2][1][1] = o[4][1][1];
            n[2][2][0] = o[4][0][2];
            n[2][2][1] = o[4][0][1];
            mf(1, 2);
          case CM.Fwi:
            n[0][1][0] = o[2][0][1];
            n[0][1][1] = o[2][1][1];
            n[0][1][2] = o[2][2][1];
            n[0][2][0] = o[2][0][0];
            n[0][2][1] = o[2][1][0];
            n[0][2][2] = o[2][2][0];
            n[4][0][1] = o[0][1][2];
            n[4][0][2] = o[0][2][2];
            n[4][1][1] = o[0][1][1];
            n[4][1][2] = o[0][2][1];
            n[4][2][1] = o[0][1][0];
            n[4][2][2] = o[0][2][0];
            n[5][0][0] = o[4][0][2];
            n[5][0][1] = o[4][1][2];
            n[5][0][2] = o[4][2][2];
            n[5][1][0] = o[4][0][1];
            n[5][1][1] = o[4][1][1];
            n[5][1][2] = o[4][2][1];
            n[2][0][0] = o[5][0][2];
            n[2][0][1] = o[5][1][2];
            n[2][1][0] = o[5][0][1];
            n[2][1][1] = o[5][1][1];
            n[2][2][0] = o[5][0][0];
            n[2][2][1] = o[5][1][0];

            mf(1, 1);

          case CM.B:
            n[0][0][0] = o[2][0][2];
            n[0][0][1] = o[2][1][2];
            n[0][0][2] = o[2][2][2];

            n[4][0][0] = o[0][0][2];
            n[4][1][0] = o[0][0][1];
            n[4][2][0] = o[0][0][0];
            n[5][2][0] = o[4][0][0];
            n[5][2][1] = o[4][1][0];
            n[5][2][2] = o[4][2][0];
            n[2][0][2] = o[5][2][2];
            n[2][1][2] = o[5][2][1];
            n[2][2][2] = o[5][2][0];
            mf(3, 0);
          case CM.B2:
            n[0][0][0] = o[5][2][2];
            n[0][0][1] = o[5][2][1];
            n[0][0][2] = o[5][2][0];
            n[4][0][0] = o[2][2][2];
            n[4][1][0] = o[2][1][2];
            n[4][2][0] = o[2][0][2];
            n[5][2][0] = o[0][0][2];
            n[5][2][1] = o[0][0][1];
            n[5][2][2] = o[0][0][0];
            n[2][0][2] = o[4][2][0];
            n[2][1][2] = o[4][1][0];
            n[2][2][2] = o[4][0][0];
            mf(3, 2);
          case CM.Bi:
            n[0][0][0] = o[4][2][0];
            n[0][0][1] = o[4][1][0];
            n[0][0][2] = o[4][0][0];
            n[4][0][0] = o[5][2][0];
            n[4][1][0] = o[5][2][1];
            n[4][2][0] = o[5][2][2];
            n[5][2][0] = o[2][2][2];
            n[5][2][1] = o[2][1][2];
            n[5][2][2] = o[2][0][2];
            n[2][0][2] = o[0][0][0];
            n[2][1][2] = o[0][0][1];
            n[2][2][2] = o[0][0][2];
            mf(3, 1);
          case CM.Bw:
            n[0][0][0] = o[2][0][2];
            n[0][0][1] = o[2][1][2];
            n[0][0][2] = o[2][2][2];
            n[0][1][0] = o[2][0][1];
            n[0][1][1] = o[2][1][1];
            n[0][1][2] = o[2][2][1];
            n[4][0][0] = o[0][0][2];
            n[4][0][1] = o[0][1][2];
            n[4][1][0] = o[0][0][1];
            n[4][1][1] = o[0][1][1];
            n[4][2][0] = o[0][0][0];
            n[4][2][1] = o[0][1][0];
            n[5][1][0] = o[4][0][1];
            n[5][1][1] = o[4][1][1];
            n[5][1][2] = o[4][2][1];
            n[5][2][0] = o[4][0][0];
            n[5][2][1] = o[4][1][0];
            n[5][2][2] = o[4][2][0];
            n[2][0][1] = o[5][1][2];
            n[2][0][2] = o[5][2][2];
            n[2][1][1] = o[5][1][1];
            n[2][1][2] = o[5][2][1];
            n[2][2][1] = o[5][1][0];
            n[2][2][2] = o[5][2][0];
            mf(3, 0);
          case CM.Bw2:
            n[0][0][0] = o[5][2][2];
            n[0][0][1] = o[5][2][1];
            n[0][0][2] = o[5][2][0];
            n[0][1][0] = o[5][1][2];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][0];
            n[4][0][0] = o[2][2][2];
            n[4][0][1] = o[2][2][1];
            n[4][1][0] = o[2][1][2];
            n[4][1][1] = o[2][1][1];
            n[4][2][0] = o[2][0][2];
            n[4][2][1] = o[2][0][1];
            n[5][1][0] = o[0][1][2];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][0];
            n[5][2][0] = o[0][0][2];
            n[5][2][1] = o[0][0][1];
            n[5][2][2] = o[0][0][0];
            n[2][0][1] = o[4][2][1];
            n[2][0][2] = o[4][2][0];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][0];
            n[2][2][1] = o[4][0][1];
            n[2][2][2] = o[4][0][0];
            mf(3, 2);
          case CM.Bwi:
            n[0][0][0] = o[4][2][0];
            n[0][0][1] = o[4][1][0];
            n[0][0][2] = o[4][0][0];
            n[0][1][0] = o[4][2][1];
            n[0][1][1] = o[4][1][1];
            n[0][1][2] = o[4][0][1];
            n[4][0][0] = o[5][2][0];
            n[4][0][1] = o[5][1][0];
            n[4][1][0] = o[5][2][1];
            n[4][1][1] = o[5][1][1];
            n[4][2][0] = o[5][2][2];
            n[4][2][1] = o[5][1][2];
            n[5][1][0] = o[2][2][1];
            n[5][1][1] = o[2][1][1];
            n[5][1][2] = o[2][0][1];
            n[5][2][0] = o[2][2][2];
            n[5][2][1] = o[2][1][2];
            n[5][2][2] = o[2][0][2];
            n[2][0][1] = o[0][1][0];
            n[2][0][2] = o[0][0][0];
            n[2][1][1] = o[0][1][1];
            n[2][1][2] = o[0][0][1];
            n[2][2][1] = o[0][1][2];
            n[2][2][2] = o[0][0][2];
            mf(3, 1);
          case CM.M:
            n[0][0][1] = o[3][2][1];
            n[0][1][1] = o[3][1][1];
            n[0][2][1] = o[3][0][1];
            n[5][0][1] = o[1][0][1];
            n[5][1][1] = o[1][1][1];
            n[5][2][1] = o[1][2][1];
            n[1][0][1] = o[0][0][1];
            n[1][1][1] = o[0][1][1];
            n[1][2][1] = o[0][2][1];
            n[3][2][1] = o[5][0][1];
            n[3][1][1] = o[5][1][1];
            n[3][0][1] = o[5][2][1];
          case CM.M2:
            n[0][0][1] = o[5][0][1];
            n[0][1][1] = o[5][1][1];
            n[0][2][1] = o[5][2][1];
            n[5][0][1] = o[0][0][1];
            n[5][1][1] = o[0][1][1];
            n[5][2][1] = o[0][2][1];
            n[1][0][1] = o[3][2][1];
            n[1][1][1] = o[3][1][1];
            n[1][2][1] = o[3][0][1];
            n[3][2][1] = o[1][0][1];
            n[3][1][1] = o[1][1][1];
            n[3][0][1] = o[1][2][1];
          case CM.Mi:
            n[0][0][1] = o[1][0][1];
            n[0][1][1] = o[1][1][1];
            n[0][2][1] = o[1][2][1];
            n[5][0][1] = o[3][2][1];
            n[5][1][1] = o[3][1][1];
            n[5][2][1] = o[3][0][1];
            n[1][0][1] = o[5][0][1];
            n[1][1][1] = o[5][1][1];
            n[1][2][1] = o[5][2][1];
            n[3][2][1] = o[0][0][1];
            n[3][1][1] = o[0][1][1];
            n[3][0][1] = o[0][2][1];
          case CM.E:
            n[1][1][0] = o[4][1][0];
            n[1][1][1] = o[4][1][1];
            n[1][1][2] = o[4][1][2];
            n[2][1][0] = o[1][1][0];
            n[2][1][1] = o[1][1][1];
            n[2][1][2] = o[1][1][2];
            n[3][1][0] = o[2][1][0];
            n[3][1][1] = o[2][1][1];
            n[3][1][2] = o[2][1][2];
            n[4][1][0] = o[3][1][0];
            n[4][1][1] = o[3][1][1];
            n[4][1][2] = o[3][1][2];
          case CM.E2:
            n[1][1][0] = o[3][1][0];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][2];
            n[2][1][0] = o[4][1][0];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][2];
            n[3][1][0] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][1][2] = o[1][1][2];
            n[4][1][0] = o[2][1][0];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][2];
          case CM.Ei:
            n[1][1][0] = o[2][1][0];
            n[1][1][1] = o[2][1][1];
            n[1][1][2] = o[2][1][2];
            n[2][1][0] = o[3][1][0];
            n[2][1][1] = o[3][1][1];
            n[2][1][2] = o[3][1][2];
            n[3][1][0] = o[4][1][0];
            n[3][1][1] = o[4][1][1];
            n[3][1][2] = o[4][1][2];
            n[4][1][0] = o[1][1][0];
            n[4][1][1] = o[1][1][1];
            n[4][1][2] = o[1][1][2];
          case CM.S:
            n[0][1][0] = o[4][2][1];
            n[0][1][1] = o[4][1][1];
            n[0][1][2] = o[4][0][1];
            n[4][0][1] = o[5][1][0];
            n[4][1][1] = o[5][1][1];
            n[4][2][1] = o[5][1][2];
            n[5][1][0] = o[2][2][1];
            n[5][1][1] = o[2][1][1];
            n[5][1][2] = o[2][0][1];
            n[2][0][1] = o[0][1][0];
            n[2][1][1] = o[0][1][1];
            n[2][2][1] = o[0][1][2];
          case CM.S2:
            n[0][1][0] = o[5][1][2];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][0];
            n[4][0][1] = o[2][2][1];
            n[4][1][1] = o[2][1][1];
            n[4][2][1] = o[2][0][1];
            n[5][1][0] = o[0][1][2];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][0];
            n[2][0][1] = o[4][2][1];
            n[2][1][1] = o[4][1][1];
            n[2][2][1] = o[4][0][1];
          case CM.Si:
            n[0][1][0] = o[2][0][1];
            n[0][1][1] = o[2][1][1];
            n[0][1][2] = o[2][2][1];
            n[4][0][1] = o[0][1][2];
            n[4][1][1] = o[0][1][1];
            n[4][2][1] = o[0][1][0];
            n[5][1][0] = o[4][0][1];
            n[5][1][1] = o[4][1][1];
            n[5][1][2] = o[4][2][1];
            n[2][0][1] = o[5][1][2];
            n[2][1][1] = o[5][1][1];
            n[2][2][1] = o[5][1][0];
          case CM.Rw:
            n[0][0][1] = o[1][0][1];
            n[0][0][2] = o[1][0][2];
            n[0][1][1] = o[1][1][1];
            n[0][1][2] = o[1][1][2];
            n[0][2][1] = o[1][2][1];
            n[0][2][2] = o[1][2][2];
            n[5][0][1] = o[3][2][1];
            n[5][0][2] = o[3][2][0];
            n[5][1][1] = o[3][1][1];
            n[5][1][2] = o[3][1][0];
            n[5][2][1] = o[3][0][1];
            n[5][2][2] = o[3][0][0];
            n[1][0][1] = o[5][0][1];
            n[1][0][2] = o[5][0][2];
            n[1][1][1] = o[5][1][1];
            n[1][1][2] = o[5][1][2];
            n[1][2][1] = o[5][2][1];
            n[1][2][2] = o[5][2][2];
            n[3][2][1] = o[0][0][1];
            n[3][2][0] = o[0][0][2];
            n[3][1][1] = o[0][1][1];
            n[3][1][0] = o[0][1][2];
            n[3][0][1] = o[0][2][1];
            n[3][0][0] = o[0][2][2];
            mf(2, 0);
          case CM.Rw2:
            n[0][0][1] = o[5][0][1];
            n[0][0][2] = o[5][0][2];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][2];
            n[0][2][1] = o[5][2][1];
            n[0][2][2] = o[5][2][2];
            n[5][0][1] = o[0][0][1];
            n[5][0][2] = o[0][0][2];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][2];
            n[5][2][1] = o[0][2][1];
            n[5][2][2] = o[0][2][2];
            n[1][0][1] = o[3][2][1];
            n[1][0][2] = o[3][2][0];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][0];
            n[1][2][1] = o[3][0][1];
            n[1][2][2] = o[3][0][0];
            n[3][2][1] = o[1][0][1];
            n[3][2][0] = o[1][0][2];
            n[3][1][1] = o[1][1][1];
            n[3][1][0] = o[1][1][2];
            n[3][0][1] = o[1][2][1];
            n[3][0][0] = o[1][2][2];
            mf(2, 2);
          case CM.Rwi:
            n[0][0][1] = o[3][2][1];
            n[0][0][2] = o[3][2][0];
            n[0][1][1] = o[3][1][1];
            n[0][1][2] = o[3][1][0];
            n[0][2][1] = o[3][0][1];
            n[0][2][2] = o[3][0][0];
            n[5][0][1] = o[1][0][1];
            n[5][0][2] = o[1][0][2];
            n[5][1][1] = o[1][1][1];
            n[5][1][2] = o[1][1][2];
            n[5][2][1] = o[1][2][1];
            n[5][2][2] = o[1][2][2];
            n[1][0][1] = o[0][0][1];
            n[1][0][2] = o[0][0][2];
            n[1][1][1] = o[0][1][1];
            n[1][1][2] = o[0][1][2];
            n[1][2][1] = o[0][2][1];
            n[1][2][2] = o[0][2][2];
            n[3][2][1] = o[5][0][1];
            n[3][2][0] = o[5][0][2];
            n[3][1][1] = o[5][1][1];
            n[3][1][0] = o[5][1][2];
            n[3][0][1] = o[5][2][1];
            n[3][0][0] = o[5][2][2];
            mf(2, 1);

          case CM.Lw:
            n[0][0][0] = o[3][2][2];
            n[0][0][1] = o[3][2][1];
            n[0][1][0] = o[3][1][2];
            n[0][1][1] = o[3][1][1];
            n[0][2][0] = o[3][0][2];
            n[0][2][1] = o[3][0][1];
            n[5][0][0] = o[1][0][0];
            n[5][0][1] = o[1][0][1];
            n[5][1][0] = o[1][1][0];
            n[5][1][1] = o[1][1][1];
            n[5][2][0] = o[1][2][0];
            n[5][2][1] = o[1][2][1];
            n[1][0][0] = o[0][0][0];
            n[1][0][1] = o[0][0][1];
            n[1][1][0] = o[0][1][0];
            n[1][1][1] = o[0][1][1];
            n[1][2][0] = o[0][2][0];
            n[1][2][1] = o[0][2][1];
            n[3][2][2] = o[5][0][0];
            n[3][2][1] = o[5][0][1];
            n[3][1][2] = o[5][1][0];
            n[3][1][1] = o[5][1][1];
            n[3][0][2] = o[5][2][0];
            n[3][0][1] = o[5][2][1];
            mf(4, 0);
          case CM.Lw2:
            n[0][0][0] = o[5][0][0];
            n[0][0][1] = o[5][0][1];
            n[0][1][0] = o[5][1][0];
            n[0][1][1] = o[5][1][1];
            n[0][2][0] = o[5][2][0];
            n[0][2][1] = o[5][2][1];
            n[5][0][0] = o[0][0][0];
            n[5][0][1] = o[0][0][1];
            n[5][1][0] = o[0][1][0];
            n[5][1][1] = o[0][1][1];
            n[5][2][0] = o[0][2][0];
            n[5][2][1] = o[0][2][1];
            n[1][0][0] = o[3][2][2];
            n[1][0][1] = o[3][2][1];
            n[1][1][0] = o[3][1][2];
            n[1][1][1] = o[3][1][1];
            n[1][2][0] = o[3][0][2];
            n[1][2][1] = o[3][0][1];
            n[3][2][2] = o[1][0][0];
            n[3][2][1] = o[1][0][1];
            n[3][1][2] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][0][2] = o[1][2][0];
            n[3][0][1] = o[1][2][1];
            mf(4, 2);
          case CM.Lwi:
            n[0][0][0] = o[1][0][0];
            n[0][0][1] = o[1][0][1];
            n[0][1][0] = o[1][1][0];
            n[0][1][1] = o[1][1][1];
            n[0][2][0] = o[1][2][0];
            n[0][2][1] = o[1][2][1];
            n[5][0][0] = o[3][2][2];
            n[5][0][1] = o[3][2][1];
            n[5][1][0] = o[3][1][2];
            n[5][1][1] = o[3][1][1];
            n[5][2][0] = o[3][0][2];
            n[5][2][1] = o[3][0][1];
            n[1][0][0] = o[5][0][0];
            n[1][0][1] = o[5][0][1];
            n[1][1][0] = o[5][1][0];
            n[1][1][1] = o[5][1][1];
            n[1][2][0] = o[5][2][0];
            n[1][2][1] = o[5][2][1];
            n[3][2][2] = o[0][0][0];
            n[3][2][1] = o[0][0][1];
            n[3][1][2] = o[0][1][0];
            n[3][1][1] = o[0][1][1];
            n[3][0][2] = o[0][2][0];
            n[3][0][1] = o[0][2][1];
            mf(4, 1);
          case CM.L:
            n[0][0][0] = o[3][2][2];
            n[0][1][0] = o[3][1][2];
            n[0][2][0] = o[3][0][2];
            n[5][0][0] = o[1][0][0];
            n[5][1][0] = o[1][1][0];
            n[5][2][0] = o[1][2][0];
            n[1][0][0] = o[0][0][0];
            n[1][1][0] = o[0][1][0];
            n[1][2][0] = o[0][2][0];
            n[3][2][2] = o[5][0][0];
            n[3][1][2] = o[5][1][0];
            n[3][0][2] = o[5][2][0];
            mf(4, 0);
          case CM.L2:
            n[0][0][0] = o[5][0][0];
            n[0][1][0] = o[5][1][0];
            n[0][2][0] = o[5][2][0];
            n[5][0][0] = o[0][0][0];
            n[5][1][0] = o[0][1][0];
            n[5][2][0] = o[0][2][0];
            n[1][0][0] = o[3][2][2];
            n[1][1][0] = o[3][1][2];
            n[1][2][0] = o[3][0][2];
            n[3][2][2] = o[1][0][0];
            n[3][1][2] = o[1][1][0];
            n[3][0][2] = o[1][2][0];
            mf(4, 2);
          case CM.Li:
            n[0][0][0] = o[1][0][0];
            n[0][1][0] = o[1][1][0];
            n[0][2][0] = o[1][2][0];
            n[5][0][0] = o[3][2][2];
            n[5][1][0] = o[3][1][2];
            n[5][2][0] = o[3][0][2];
            n[1][0][0] = o[5][0][0];
            n[1][1][0] = o[5][1][0];
            n[1][2][0] = o[5][2][0];
            n[3][2][2] = o[0][0][0];
            n[3][1][2] = o[0][1][0];
            n[3][0][2] = o[0][2][0];
            mf(4, 1);

          case CM.X:
            n[0][0][0] = o[3][2][2];
            n[0][0][1] = o[3][2][1];
            n[0][0][2] = o[3][2][0];
            n[0][1][0] = o[3][1][2];
            n[0][1][1] = o[3][1][1];
            n[0][1][2] = o[3][1][0];
            n[0][2][0] = o[3][0][2];
            n[0][2][1] = o[3][0][1];
            n[0][2][2] = o[3][0][0];
            n[5][0][0] = o[1][0][0];
            n[5][0][1] = o[1][0][1];
            n[5][0][2] = o[1][0][2];
            n[5][1][0] = o[1][1][0];
            n[5][1][1] = o[1][1][1];
            n[5][1][2] = o[1][1][2];
            n[5][2][0] = o[1][2][0];
            n[5][2][1] = o[1][2][1];
            n[5][2][2] = o[1][2][2];
            n[1][0][0] = o[0][0][0];
            n[1][0][1] = o[0][0][1];
            n[1][0][2] = o[0][0][2];
            n[1][1][0] = o[0][1][0];
            n[1][1][1] = o[0][1][1];
            n[1][1][2] = o[0][1][2];
            n[1][2][0] = o[0][2][0];
            n[1][2][1] = o[0][2][1];
            n[1][2][2] = o[0][2][2];
            n[3][2][2] = o[5][0][0];
            n[3][2][1] = o[5][0][1];
            n[3][2][0] = o[5][0][2];
            n[3][1][2] = o[5][1][0];
            n[3][1][1] = o[5][1][1];
            n[3][1][0] = o[5][1][2];
            n[3][0][2] = o[5][2][0];
            n[3][0][1] = o[5][2][1];
            n[3][0][0] = o[5][2][2];
            mf(4, 0);
            mf(2, 1);
          case CM.X2:
            n[0][0][0] = o[5][0][0];
            n[0][0][1] = o[5][0][1];
            n[0][0][2] = o[5][0][2];
            n[0][1][0] = o[5][1][0];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][2];
            n[0][2][0] = o[5][2][0];
            n[0][2][1] = o[5][2][1];
            n[0][2][2] = o[5][2][2];
            n[5][0][0] = o[0][0][0];
            n[5][0][1] = o[0][0][1];
            n[5][0][2] = o[0][0][2];
            n[5][1][0] = o[0][1][0];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][2];
            n[5][2][0] = o[0][2][0];
            n[5][2][1] = o[0][2][1];
            n[5][2][2] = o[0][2][2];
            n[1][0][0] = o[3][2][2];
            n[1][0][1] = o[3][2][1];
            n[1][0][2] = o[3][2][0];
            n[1][1][0] = o[3][1][2];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][0];
            n[1][2][0] = o[3][0][2];
            n[1][2][1] = o[3][0][1];
            n[1][2][2] = o[3][0][0];
            n[3][2][2] = o[1][0][0];
            n[3][2][1] = o[1][0][1];
            n[3][2][0] = o[1][0][2];
            n[3][1][2] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][1][0] = o[1][1][2];
            n[3][0][2] = o[1][2][0];
            n[3][0][1] = o[1][2][1];
            n[3][0][0] = o[1][2][2];

            mf(4, 2);
            mf(2, 2);
          case CM.Xi:
            n[0][0][0] = o[1][0][0];
            n[0][0][1] = o[1][0][1];
            n[0][0][2] = o[1][0][2];
            n[0][1][0] = o[1][1][0];
            n[0][1][1] = o[1][1][1];
            n[0][1][2] = o[1][1][2];
            n[0][2][0] = o[1][2][0];
            n[0][2][1] = o[1][2][1];
            n[0][2][2] = o[1][2][2];
            n[5][0][0] = o[3][2][2];
            n[5][0][1] = o[3][2][1];
            n[5][0][2] = o[3][2][0];
            n[5][1][0] = o[3][1][2];
            n[5][1][1] = o[3][1][1];
            n[5][1][2] = o[3][1][0];
            n[5][2][0] = o[3][0][2];
            n[5][2][1] = o[3][0][1];
            n[5][2][2] = o[3][0][0];
            n[1][0][0] = o[5][0][0];
            n[1][0][1] = o[5][0][1];
            n[1][0][2] = o[5][0][2];
            n[1][1][0] = o[5][1][0];
            n[1][1][1] = o[5][1][1];
            n[1][1][2] = o[5][1][2];
            n[1][2][0] = o[5][2][0];
            n[1][2][1] = o[5][2][1];
            n[1][2][2] = o[5][2][2];
            n[3][2][2] = o[0][0][0];
            n[3][2][1] = o[0][0][1];
            n[3][2][0] = o[0][0][2];
            n[3][1][2] = o[0][1][0];
            n[3][1][1] = o[0][1][1];
            n[3][1][0] = o[0][1][2];
            n[3][0][2] = o[0][2][0];
            n[3][0][1] = o[0][2][1];
            n[3][0][0] = o[0][2][2];
            mf(4, 1);
            mf(2, 0);
          case CM.Uw:
            n[1][0][0] = o[2][0][0];
            n[1][0][1] = o[2][0][1];
            n[1][0][2] = o[2][0][2];
            n[1][1][0] = o[2][1][0];
            n[1][1][1] = o[2][1][1];
            n[1][1][2] = o[2][1][2];

            n[2][0][0] = o[3][0][0];
            n[2][0][1] = o[3][0][1];
            n[2][0][2] = o[3][0][2];
            n[2][1][0] = o[3][1][0];
            n[2][1][1] = o[3][1][1];
            n[2][1][2] = o[3][1][2];

            n[3][0][0] = o[4][0][0];
            n[3][0][1] = o[4][0][1];
            n[3][0][2] = o[4][0][2];
            n[3][1][0] = o[4][1][0];
            n[3][1][1] = o[4][1][1];
            n[3][1][2] = o[4][1][2];

            n[4][0][0] = o[1][0][0];
            n[4][0][1] = o[1][0][1];
            n[4][0][2] = o[1][0][2];
            n[4][1][0] = o[1][1][0];
            n[4][1][1] = o[1][1][1];
            n[4][1][2] = o[1][1][2];

            mf(0, 0);
          case CM.Uw2:
            n[1][0][0] = o[3][0][0];
            n[1][0][1] = o[3][0][1];
            n[1][0][2] = o[3][0][2];
            n[1][1][0] = o[3][1][0];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][2];
            n[2][0][0] = o[4][0][0];
            n[2][0][1] = o[4][0][1];
            n[2][0][2] = o[4][0][2];
            n[2][1][0] = o[4][1][0];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][2];
            n[3][0][0] = o[1][0][0];
            n[3][0][1] = o[1][0][1];
            n[3][0][2] = o[1][0][2];
            n[3][1][0] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][1][2] = o[1][1][2];
            n[4][0][0] = o[2][0][0];
            n[4][0][1] = o[2][0][1];
            n[4][0][2] = o[2][0][2];
            n[4][1][0] = o[2][1][0];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][2];
            mf(0, 2);
          case CM.Uwi:
            n[1][0][0] = o[4][0][0];
            n[1][0][1] = o[4][0][1];
            n[1][0][2] = o[4][0][2];
            n[1][1][0] = o[4][1][0];
            n[1][1][1] = o[4][1][1];
            n[1][1][2] = o[4][1][2];
            n[2][0][0] = o[1][0][0];
            n[2][0][1] = o[1][0][1];
            n[2][0][2] = o[1][0][2];
            n[2][1][0] = o[1][1][0];
            n[2][1][1] = o[1][1][1];
            n[2][1][2] = o[1][1][2];
            n[3][0][0] = o[2][0][0];
            n[3][0][1] = o[2][0][1];
            n[3][0][2] = o[2][0][2];
            n[3][1][0] = o[2][1][0];
            n[3][1][1] = o[2][1][1];
            n[3][1][2] = o[2][1][2];
            n[4][0][0] = o[3][0][0];
            n[4][0][1] = o[3][0][1];
            n[4][0][2] = o[3][0][2];
            n[4][1][0] = o[3][1][0];
            n[4][1][1] = o[3][1][1];
            n[4][1][2] = o[3][1][2];
            mf(0, 1);
          case CM.Dw:
            n[1][1][0] = o[4][1][0];
            n[1][1][1] = o[4][1][1];
            n[1][1][2] = o[4][1][2];
            n[1][2][0] = o[4][2][0];
            n[1][2][1] = o[4][2][1];
            n[1][2][2] = o[4][2][2];
            n[2][1][0] = o[1][1][0];
            n[2][1][1] = o[1][1][1];
            n[2][1][2] = o[1][1][2];
            n[2][2][0] = o[1][2][0];
            n[2][2][1] = o[1][2][1];
            n[2][2][2] = o[1][2][2];
            n[3][1][0] = o[2][1][0];
            n[3][1][1] = o[2][1][1];
            n[3][1][2] = o[2][1][2];
            n[3][2][0] = o[2][2][0];
            n[3][2][1] = o[2][2][1];
            n[3][2][2] = o[2][2][2];
            n[4][1][0] = o[3][1][0];
            n[4][1][1] = o[3][1][1];
            n[4][1][2] = o[3][1][2];
            n[4][2][0] = o[3][2][0];
            n[4][2][1] = o[3][2][1];
            n[4][2][2] = o[3][2][2];
            mf(5, 0);
          case CM.Dw2:
            n[1][1][0] = o[3][1][0];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][2];
            n[1][2][0] = o[3][2][0];
            n[1][2][1] = o[3][2][1];
            n[1][2][2] = o[3][2][2];
            n[2][1][0] = o[4][1][0];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][2];
            n[2][2][0] = o[4][2][0];
            n[2][2][1] = o[4][2][1];
            n[2][2][2] = o[4][2][2];
            n[3][1][0] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][1][2] = o[1][1][2];
            n[3][2][0] = o[1][2][0];
            n[3][2][1] = o[1][2][1];
            n[3][2][2] = o[1][2][2];
            n[4][1][0] = o[2][1][0];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][2];
            n[4][2][0] = o[2][2][0];
            n[4][2][1] = o[2][2][1];
            n[4][2][2] = o[2][2][2];
            mf(5, 2);
          case CM.Dwi:
            n[1][1][0] = o[2][1][0];
            n[1][1][1] = o[2][1][1];
            n[1][1][2] = o[2][1][2];
            n[1][2][0] = o[2][2][0];
            n[1][2][1] = o[2][2][1];
            n[1][2][2] = o[2][2][2];
            n[2][1][0] = o[3][1][0];
            n[2][1][1] = o[3][1][1];
            n[2][1][2] = o[3][1][2];
            n[2][2][0] = o[3][2][0];
            n[2][2][1] = o[3][2][1];
            n[2][2][2] = o[3][2][2];
            n[3][1][0] = o[4][1][0];
            n[3][1][1] = o[4][1][1];
            n[3][1][2] = o[4][1][2];
            n[3][2][0] = o[4][2][0];
            n[3][2][1] = o[4][2][1];
            n[3][2][2] = o[4][2][2];
            n[4][1][0] = o[1][1][0];
            n[4][1][1] = o[1][1][1];
            n[4][1][2] = o[1][1][2];
            n[4][2][0] = o[1][2][0];
            n[4][2][1] = o[1][2][1];
            n[4][2][2] = o[1][2][2];
            mf(5, 1);

          case CM.Y:
            n[1][0][0] = o[2][0][0];
            n[1][0][1] = o[2][0][1];
            n[1][0][2] = o[2][0][2];
            n[1][1][0] = o[2][1][0];
            n[1][1][1] = o[2][1][1];
            n[1][1][2] = o[2][1][2];
            n[1][2][0] = o[2][2][0];
            n[1][2][1] = o[2][2][1];
            n[1][2][2] = o[2][2][2];
            n[2][0][0] = o[3][0][0];
            n[2][0][1] = o[3][0][1];
            n[2][0][2] = o[3][0][2];
            n[2][1][0] = o[3][1][0];
            n[2][1][1] = o[3][1][1];
            n[2][1][2] = o[3][1][2];
            n[2][2][0] = o[3][2][0];
            n[2][2][1] = o[3][2][1];
            n[2][2][2] = o[3][2][2];
            n[3][0][0] = o[4][0][0];
            n[3][0][1] = o[4][0][1];
            n[3][0][2] = o[4][0][2];
            n[3][1][0] = o[4][1][0];
            n[3][1][1] = o[4][1][1];
            n[3][1][2] = o[4][1][2];
            n[3][2][0] = o[4][2][0];
            n[3][2][1] = o[4][2][1];
            n[3][2][2] = o[4][2][2];
            n[4][0][0] = o[1][0][0];
            n[4][0][1] = o[1][0][1];
            n[4][0][2] = o[1][0][2];
            n[4][1][0] = o[1][1][0];
            n[4][1][1] = o[1][1][1];
            n[4][1][2] = o[1][1][2];
            n[4][2][0] = o[1][2][0];
            n[4][2][1] = o[1][2][1];
            n[4][2][2] = o[1][2][2];
            mf(0, 0);
            mf(5, 1);
          case CM.Y2:
            n[1][0][0] = o[3][0][0];
            n[1][0][1] = o[3][0][1];
            n[1][0][2] = o[3][0][2];
            n[1][1][0] = o[3][1][0];
            n[1][1][1] = o[3][1][1];
            n[1][1][2] = o[3][1][2];
            n[1][2][0] = o[3][2][0];
            n[1][2][1] = o[3][2][1];
            n[1][2][2] = o[3][2][2];
            n[2][0][0] = o[4][0][0];
            n[2][0][1] = o[4][0][1];
            n[2][0][2] = o[4][0][2];
            n[2][1][0] = o[4][1][0];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][2];
            n[2][2][0] = o[4][2][0];
            n[2][2][1] = o[4][2][1];
            n[2][2][2] = o[4][2][2];
            n[3][0][0] = o[1][0][0];
            n[3][0][1] = o[1][0][1];
            n[3][0][2] = o[1][0][2];
            n[3][1][0] = o[1][1][0];
            n[3][1][1] = o[1][1][1];
            n[3][1][2] = o[1][1][2];
            n[3][2][0] = o[1][2][0];
            n[3][2][1] = o[1][2][1];
            n[3][2][2] = o[1][2][2];
            n[4][0][0] = o[2][0][0];
            n[4][0][1] = o[2][0][1];
            n[4][0][2] = o[2][0][2];
            n[4][1][0] = o[2][1][0];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][2];
            n[4][2][0] = o[2][2][0];
            n[4][2][1] = o[2][2][1];
            n[4][2][2] = o[2][2][2];
            mf(0, 2);
            mf(5, 2);
          case CM.Yi:
            n[1][0][0] = o[4][0][0];
            n[1][0][1] = o[4][0][1];
            n[1][0][2] = o[4][0][2];
            n[1][1][0] = o[4][1][0];
            n[1][1][1] = o[4][1][1];
            n[1][1][2] = o[4][1][2];
            n[1][2][0] = o[4][2][0];
            n[1][2][1] = o[4][2][1];
            n[1][2][2] = o[4][2][2];
            n[2][0][0] = o[1][0][0];
            n[2][0][1] = o[1][0][1];
            n[2][0][2] = o[1][0][2];
            n[2][1][0] = o[1][1][0];
            n[2][1][1] = o[1][1][1];
            n[2][1][2] = o[1][1][2];
            n[2][2][0] = o[1][2][0];
            n[2][2][1] = o[1][2][1];
            n[2][2][2] = o[1][2][2];
            n[3][0][0] = o[2][0][0];
            n[3][0][1] = o[2][0][1];
            n[3][0][2] = o[2][0][2];
            n[3][1][0] = o[2][1][0];
            n[3][1][1] = o[2][1][1];
            n[3][1][2] = o[2][1][2];
            n[3][2][0] = o[2][2][0];
            n[3][2][1] = o[2][2][1];
            n[3][2][2] = o[2][2][2];
            n[4][0][0] = o[3][0][0];
            n[4][0][1] = o[3][0][1];
            n[4][0][2] = o[3][0][2];
            n[4][1][0] = o[3][1][0];
            n[4][1][1] = o[3][1][1];
            n[4][1][2] = o[3][1][2];
            n[4][2][0] = o[3][2][0];
            n[4][2][1] = o[3][2][1];
            n[4][2][2] = o[3][2][2];
            mf(0, 1);
            mf(5, 0);
          case CM.Z:
            n[0][0][0] = o[4][2][0];
            n[0][0][1] = o[4][1][0];
            n[0][0][2] = o[4][0][0];
            n[0][1][0] = o[4][2][1];
            n[0][1][1] = o[4][1][1];
            n[0][1][2] = o[4][0][1];
            n[0][2][0] = o[4][2][2];
            n[0][2][1] = o[4][1][2];
            n[0][2][2] = o[4][0][2];

            n[4][0][0] = o[5][2][0];
            n[4][0][1] = o[5][1][0];
            n[4][0][2] = o[5][0][0];
            n[4][1][0] = o[5][2][1];
            n[4][1][1] = o[5][1][1];
            n[4][1][2] = o[5][0][1];
            n[4][2][0] = o[5][2][2];
            n[4][2][1] = o[5][1][2];
            n[4][2][2] = o[5][0][2];

            n[5][0][0] = o[2][2][0];
            n[5][0][1] = o[2][1][0];
            n[5][0][2] = o[2][0][0];
            n[5][1][0] = o[2][2][1];
            n[5][1][1] = o[2][1][1];
            n[5][1][2] = o[2][0][1];
            n[5][2][0] = o[2][2][2];
            n[5][2][1] = o[2][1][2];
            n[5][2][2] = o[2][0][2];

            n[2][0][0] = o[0][2][0];
            n[2][0][1] = o[0][1][0];
            n[2][0][2] = o[0][0][0];
            n[2][1][0] = o[0][2][1];
            n[2][1][1] = o[0][1][1];
            n[2][1][2] = o[0][0][1];
            n[2][2][0] = o[0][2][2];
            n[2][2][1] = o[0][1][2];
            n[2][2][2] = o[0][0][2];

            mf(1, 0);
            mf(3, 1);
          case CM.Z2:
            n[0][0][0] = o[5][2][2];
            n[0][0][1] = o[5][2][1];
            n[0][0][2] = o[5][2][0];
            n[0][1][0] = o[5][1][2];
            n[0][1][1] = o[5][1][1];
            n[0][1][2] = o[5][1][0];
            n[0][2][0] = o[5][0][2];
            n[0][2][1] = o[5][0][1];
            n[0][2][2] = o[5][0][0];
            n[4][0][0] = o[2][2][2];
            n[4][0][1] = o[2][2][1];
            n[4][0][2] = o[2][2][0];
            n[4][1][0] = o[2][1][2];
            n[4][1][1] = o[2][1][1];
            n[4][1][2] = o[2][1][0];
            n[4][2][0] = o[2][0][2];
            n[4][2][1] = o[2][0][1];
            n[4][2][2] = o[2][0][0];
            n[5][0][0] = o[0][2][2];
            n[5][0][1] = o[0][2][1];
            n[5][0][2] = o[0][2][0];
            n[5][1][0] = o[0][1][2];
            n[5][1][1] = o[0][1][1];
            n[5][1][2] = o[0][1][0];
            n[5][2][0] = o[0][0][2];
            n[5][2][1] = o[0][0][1];
            n[5][2][2] = o[0][0][0];
            n[2][0][0] = o[4][2][2];
            n[2][0][1] = o[4][2][1];
            n[2][0][2] = o[4][2][0];
            n[2][1][0] = o[4][1][2];
            n[2][1][1] = o[4][1][1];
            n[2][1][2] = o[4][1][0];
            n[2][2][0] = o[4][0][2];
            n[2][2][1] = o[4][0][1];
            n[2][2][2] = o[4][0][0];

            mf(1, 2);
            mf(3, 2);
          case CM.Zi:
            n[0][0][0] = o[2][0][2];
            n[0][0][1] = o[2][1][2];
            n[0][0][2] = o[2][2][2];
            n[0][1][0] = o[2][0][1];
            n[0][1][1] = o[2][1][1];
            n[0][1][2] = o[2][2][1];
            n[0][2][0] = o[2][0][0];
            n[0][2][1] = o[2][1][0];
            n[0][2][2] = o[2][2][0];
            n[4][0][0] = o[0][0][2];
            n[4][0][1] = o[0][1][2];
            n[4][0][2] = o[0][2][2];
            n[4][1][0] = o[0][0][1];
            n[4][1][1] = o[0][1][1];
            n[4][1][2] = o[0][2][1];
            n[4][2][0] = o[0][0][0];
            n[4][2][1] = o[0][1][0];
            n[4][2][2] = o[0][2][0];
            n[5][0][0] = o[4][0][2];
            n[5][0][1] = o[4][1][2];
            n[5][0][2] = o[4][2][2];
            n[5][1][0] = o[4][0][1];
            n[5][1][1] = o[4][1][1];
            n[5][1][2] = o[4][2][1];
            n[5][2][0] = o[4][0][0];
            n[5][2][1] = o[4][1][0];
            n[5][2][2] = o[4][2][0];
            n[2][0][0] = o[5][0][2];
            n[2][0][1] = o[5][1][2];
            n[2][0][2] = o[5][2][2];
            n[2][1][0] = o[5][0][1];
            n[2][1][1] = o[5][1][1];
            n[2][1][2] = o[5][2][1];
            n[2][2][0] = o[5][0][0];
            n[2][2][1] = o[5][1][0];
            n[2][2][2] = o[5][2][0];
            mf(1, 1);
            mf(3, 0);
        }

        o = n.clone();
      } catch (e, s) {
        print(
          e.toString(),
        );
        continue;
      }
    }

    return cs.copyWith(state: n);
  }
}
